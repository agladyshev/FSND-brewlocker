{% extends "foundation.html" %}

{% block title %}BrewLocker{% endblock %}

{% block head %}
{{ super() }}
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Udacity Full Stack Nanodegree project" />
<meta name="author" content="//github.com/agladyshev">
<meta name="mobile-web-app-capable" content="yes">
<meta charset="utf-8"/>
<title>BrewLocker</title>
<link rel="icon" type="image/png" href="{{ url_for('static', filename='udacity_logo.png') }}">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300&amp;subset=cyrillic" rel="stylesheet">
<script src="//apis.google.com/js/platform.js?onload=start"> </script>
{% endblock %}

{% block body %}
<div class="sticky-container" data-sticky-container>
  <div class="header" data-sticky data-options="stickTo:top; stickyOn:small; marginTop:0;">
    <header class="title-bar row" data-responsive-toggle="menu" data-hide-for="medium">
      <div class="column small-10"><a class="title-bar-title" href="{{url_for('main.index')}}">BrewLocker</a></div>
      <div class="column small-2 text-right">
        <button class="menu-icon" type="button" data-toggle="menu"></button>
      </div>
    </header>
    <header class="row expanded">
      <div class="column hide-for-small-only medium-6 large-2 top-bar">
        <a href="{{url_for('main.index')}}"><h1>BrewLocker</h1></a>
      </div>
      {% block navbar %} 
      <nav class="top-bar column medium-6 large-2" id="menu">
        <div class="top-bar-right">
          <div class="row text-right">
            {% if current_user.is_authenticated %}
            <div class="column"><p class="label">{{ current_user.username }}</p></div>
            <div class="column">

              {% block menu %}
              {% if request.url_rule.endpoint != "main.index" %}
              <a class="small button" href="{{url_for('main.index')}}">All items</a>
              {% endif %}
              {% if request.url_rule.endpoint != "main.getProfile" %}
              <a class="small button" href="{{url_for('main.getProfile', user_id = current_user.id)}}">Your items</a>
              {% endif %}
              {% endblock %}
              <a class="small button" href="{{url_for('auth.logout')}}">Logout</a>

            </div>
            {% else %}
            {% if request.url_rule.endpoint != "auth.login" %}
            <div class="column"><a class="small button" href="{{url_for('auth.login')}}">Login</a></div>
            {% else %}
            <div class="column"><a class="small button" href="{{url_for('main.index')}}">All items</a></div>
            
            {% endif %}
            {% endif %}
          </div>
        </div>
      </nav>
      {% endblock %}
    </header>
  </div>
</div>   
{% block content %}

{% for message in get_flashed_messages() %}
<div class="row">
  <div class="success callout column small-12 medium-6 large-4" data-closable>
    {{ message }}
    <button class="close-button" aria-label="Dismiss alert" type="button" data-close>
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
</div>
{% endfor %}

{% endblock %}

<footer class="row text-center">
  <hr class="row column">
  <div class="small-12 large-8 column" >
    <div class="row small-up-2 large-up-4">
      <a class="fi-social-facebook column" href="//facebook.com/profile.php?id=100010168684021" title="View my Facebook page" id="viewFacebook" target="_blank"> Facebook</a>
      <a class="fi-social-linkedin column" href="//linkedin.com/" title="View my LinkedIn page" id="viewGoogle+" target="_blank"> LinkedIn</a>
      <a class="fi-social-github column" href="//github.com/agladyshev" title="View my GitHub page" id="viewGithub" target="_blank"> GitHub</a>
      <a class="column link-hover" href="https://profiles.udacity.com/u/alexeygladyshev" title="View my Udacity page" id="viewUdacity" target="_blank">
        <!--SVG image is used inline to get an access to its internal properties, fill color here. Color changes when we hover the mouse over the icon. This way, svg fully imitates font icon behaviour.-->
        <svg id="svg1" viewBox="0 -8 35 35" width="1em" height="1.2em">
          <path class="icon-hover" fill="#000000" fill-rule="evenodd" d="M29 .1l-9 4.7v14.9c0 .6 0 1.3-.2 1.9-.1.6-.3 1.2-.5 1.7-.1.1-.1.3-.2.4-.3 0-2.5-.7-3.5-1.4-.4-.3-.8-.6-1.2-1-.4-.4-.7-.8-1-1.2-.3-.4-.6-.9-.8-1.4-.2-.5-.4-1-.5-1.6-.1-.5-.1-1.1-.1-1.6V1.2L10 0 0 5.9v13.7C0 25.9 5.1 31 11.3 31c2.1 0 4-.5 5.7-1.5l8.4-4.8c3.3-1.7 5.6-5.2 5.6-9.1V1.3L29 .1zM17.9 26.2c-.9.9-1.6 1.4-2.6 1.9-.6.2-1.3.5-1.9.7-.6.1-1.2.2-1.8.2-.6 0-1.6-.1-2.2-.2-.6-.1-1.2-.3-1.7-.5s-1.1-.5-1.6-.9c-1.3-.9-1.9-1.7-2.5-2.5-.3-.5-.6-1-.9-1.6-.2-.6-.4-1.1-.5-1.7-.2-.7-.2-1.4-.2-2V7.1l8-4.7v13.1c0 5 3.7 9.1 8.4 10.1-.2.2-.3.4-.5.6zm11-9c-.1.5-.3 1-.5 1.5s-.6 1.2-1 1.7c-.6.7-1.2 1.2-2.7 2.1-1.3.7-2.4.9-3.1 1.1.5-1.2.5-2.5.5-3.9L22 6l7-3.7v13.3c0 .5 0 1.1-.1 1.6z"/>
        </svg>
        Udacity
      </a>
    </div>
  </div>
  <div class="small-12 large-4 column end">
    <span>Source for this page on</span>
    <a class="fi-social-github" href="//github.com/agladyshev/FSND-catalog" title="View source for this page on GitHub" target="_blank"></a>
  </div>
</footer>

{% block scripts %}
{{ super() }}
{{ moment.include_moment() }}
{% endblock %}

{% endblock %}